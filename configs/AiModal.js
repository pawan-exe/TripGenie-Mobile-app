const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = "AIzaSyDyvQ2DRuwIPIIHqlw9Z8LAi3Us2mZ1biQ";
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate travel plan for location : Las Vegas, NV, USA for 3 days and 2 Night for Family with Moderate budget with flight details, flight price with booking urls, hotels option list with hotel name, hotel address, price, hotel image url, geo coordinates, rating, description, and place to visit nearby with place name, place detail, place image url, geo coordinates, ticket pricing, time t travel day each of the location for 3 days and 2 night with each day plan with the best time to visit in JSON format.\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "trip_details": {\n    "destination": "Las Vegas, NV, USA",\n    "duration": "3 days and 2 nights",\n    "budget": "Moderate",\n    "travelers": "Family"\n  },\n  "flights": [\n    {\n      "airline": "Southwest Airlines",\n      "departure_city": "Your Departure City",\n      "arrival_city": "Las Vegas, NV",\n      "departure_date": "YYYY-MM-DD",\n      "return_date": "YYYY-MM-DD",\n      "price": "$XXX",\n      "booking_url": "https://www.southwest.com/"\n    },\n    {\n      "airline": "Spirit Airlines",\n      "departure_city": "Your Departure City",\n      "arrival_city": "Las Vegas, NV",\n      "departure_date": "YYYY-MM-DD",\n      "return_date": "YYYY-MM-DD",\n      "price": "$XXX",\n      "booking_url": "https://www.spirit.com/"\n    }\n  ],\n  "hotels": [\n    {\n      "name": "The LINQ Hotel + Experience",\n      "address": "3500 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": "$XXX/night",\n      "image_url": "https://www.linq.com/content/dam/linq/hotel/hero-desktop.jpg",\n      "geo_coordinates": [36.1029, -115.1700],\n      "rating": 4.0,\n      "description": "A modern hotel with a lively atmosphere, featuring a rooftop pool, dining, and nightlife options. It\'s directly connected to the LINQ Promenade.",\n      "nearby_places": [\n        {\n          "name": "The LINQ Promenade",\n          "detail": "An outdoor shopping and dining complex with entertainment options, including the High Roller Observation Wheel.",\n          "image_url": "https://www.linq.com/content/dam/linq/promenade/hero-desktop.jpg",\n          "geo_coordinates": [36.1029, -115.1700],\n          "ticket_pricing": "Varies depending on attractions",\n          "time_to_travel": "1-2 hours"\n        }\n      ]\n    },\n    {\n      "name": "The Orleans Hotel & Casino",\n      "address": "4500 W Tropicana Ave, Las Vegas, NV 89103",\n      "price": "$XXX/night",\n      "image_url": "https://www.orleanscasino.com/content/dam/orleans/hero-desktop.jpg",\n      "geo_coordinates": [36.0978, -115.2083],\n      "rating": 3.5,\n      "description": "A more affordable option with a classic Vegas feel. It offers a casino, multiple restaurants, and a pool area.",\n      "nearby_places": [\n        {\n          "name": "The Gold Coast Hotel and Casino",\n          "detail": "Another casino hotel with dining options, entertainment, and a spa.",\n          "image_url": "https://www.goldcoastcasino.com/content/dam/goldcoast/hero-desktop.jpg",\n          "geo_coordinates": [36.0998, -115.1984],\n          "ticket_pricing": "N/A",\n          "time_to_travel": "10-15 minutes walk"\n        }\n      ]\n    },\n    {\n      "name": "The Venetian Resort Las Vegas",\n      "address": "3355 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": "$XXX/night",\n      "image_url": "https://www.venetian.com/content/dam/venetian/hero-desktop.jpg",\n      "geo_coordinates": [36.1153, -115.1739],\n      "rating": 4.5,\n      "description": "A luxurious hotel with a Venetian theme, featuring multiple pools, fine dining, and world-class entertainment.",\n      "nearby_places": [\n        {\n          "name": "The Grand Canal Shoppes",\n          "detail": "An upscale shopping mall with designer boutiques, restaurants, and gondola rides.",\n          "image_url": "https://www.venetian.com/content/dam/venetian/shopping/grand-canal-shoppes/hero-desktop.jpg",\n          "geo_coordinates": [36.1153, -115.1739],\n          "ticket_pricing": "N/A",\n          "time_to_travel": "5-10 minutes walk"\n        }\n      ]\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "schedule": [\n        {\n          "time": "10:00 AM",\n          "activity": "Arrive at Las Vegas McCarran International Airport (LAS)",\n          "description": "Pick up your rental car or arrange transportation to your hotel."\n        },\n        {\n          "time": "11:00 AM",\n          "activity": "Check-in at your hotel",\n          "description": "Settle in and explore the hotel facilities."\n        },\n        {\n          "time": "12:00 PM",\n          "activity": "Lunch at a casual restaurant in your hotel or nearby",\n          "description": "Enjoy a light lunch before heading out."\n        },\n        {\n          "time": "01:00 PM",\n          "activity": "Visit the Bellagio Conservatory & Botanical Garden",\n          "description": "Admire the stunning floral displays and botanical wonders.",\n          "place_image_url": "https://www.bellagio.com/content/dam/bellagio/conservatory/hero-desktop.jpg",\n          "geo_coordinates": [36.1184, -115.1730],\n          "ticket_pricing": "Free",\n          "time_to_travel": "1-2 hours"\n        },\n        {\n          "time": "03:00 PM",\n          "activity": "Walk along the Las Vegas Strip",\n          "description": "Experience the iconic sights and vibrant atmosphere of the Strip."\n        },\n        {\n          "time": "05:00 PM",\n          "activity": "Dinner at a restaurant on the Strip",\n          "description": "Enjoy a nice dinner with views of the Strip."\n        },\n        {\n          "time": "07:00 PM",\n          "activity": "Catch a show at the Bellagio Fountains",\n          "description": "Witness the mesmerizing water and light show.",\n          "place_image_url": "https://www.bellagio.com/content/dam/bellagio/fountains/hero-desktop.jpg",\n          "geo_coordinates": [36.1184, -115.1730],\n          "ticket_pricing": "Free",\n          "time_to_travel": "1-2 hours"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "schedule": [\n        {\n          "time": "10:00 AM",\n          "activity": "Breakfast at a hotel buffet or local diner",\n          "description": "Start the day with a hearty breakfast."\n        },\n        {\n          "time": "11:00 AM",\n          "activity": "Visit the High Roller Observation Wheel",\n          "description": "Enjoy panoramic views of the city from the world\'s tallest observation wheel.",\n          "place_image_url": "https://www.caesars.com/content/dam/caesars/high-roller/hero-desktop.jpg",\n          "geo_coordinates": [36.1030, -115.1704],\n          "ticket_pricing": "Varies depending on the experience",\n          "time_to_travel": "1-2 hours"\n        },\n        {\n          "time": "01:00 PM",\n          "activity": "Lunch at a casual restaurant near the High Roller",\n          "description": "Have lunch with a view."\n        },\n        {\n          "time": "02:00 PM",\n          "activity": "Explore the LINQ Promenade",\n          "description": "Walk along the pedestrian-friendly promenade with shops, restaurants, and entertainment."\n        },\n        {\n          "time": "04:00 PM",\n          "activity": "Visit the Mob Museum",\n          "description": "Learn about the history of organized crime in Las Vegas.",\n          "place_image_url": "https://themobmuseum.org/content/dam/mob/hero-desktop.jpg",\n          "geo_coordinates": [36.1695, -115.1478],\n          "ticket_pricing": "Varies depending on the experience",\n          "time_to_travel": "1-2 hours"\n        },\n        {\n          "time": "06:00 PM",\n          "activity": "Dinner at a restaurant near the Mob Museum",\n          "description": "Enjoy a meal in the downtown area."\n        },\n        {\n          "time": "08:00 PM",\n          "activity": "Catch a show at Fremont Street Experience",\n          "description": "Experience the vibrant atmosphere of Fremont Street with its light shows and live entertainment.",\n          "place_image_url": "https://www.vegasexperience.com/content/dam/vegasexperience/hero-desktop.jpg",\n          "geo_coordinates": [36.1683, -115.1428],\n          "ticket_pricing": "Free",\n          "time_to_travel": "1-2 hours"\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "schedule": [\n        {\n          "time": "10:00 AM",\n          "activity": "Breakfast at your hotel or a nearby cafe",\n          "description": "Enjoy a relaxed breakfast before checking out."\n        },\n        {\n          "time": "11:00 AM",\n          "activity": "Visit the Neon Museum",\n          "description": "See a collection of vintage neon signs that once adorned Las Vegas.",\n          "place_image_url": "https://neonmuseum.org/content/dam/neon/hero-desktop.jpg",\n          "geo_coordinates": [36.1742, -115.1413],\n          "ticket_pricing": "Varies depending on the tour",\n          "time_to_travel": "1-2 hours"\n        },\n        {\n          "time": "01:00 PM",\n          "activity": "Lunch at a casual restaurant near the Neon Museum",\n          "description": "Have lunch in the historic downtown area."\n        },\n        {\n          "time": "02:00 PM",\n          "activity": "Visit the Las Vegas Natural History Museum",\n          "description": "Explore exhibits on the natural world and the history of the region.",\n          "place_image_url": "https://www.nhmlasvegas.org/content/dam/nhm/hero-desktop.jpg",\n          "geo_coordinates": [36.1736, -115.1498],\n          "ticket_pricing": "Varies depending on the experience",\n          "time_to_travel": "1-2 hours"\n        },\n        {\n          "time": "04:00 PM",\n          "activity": "Head back to the airport for your departure flight",\n          "description": "Enjoy your ride back to the airport."\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Please Note:**\n\n* This is a sample itinerary, and you can adjust it based on your family\'s preferences and interests.\n* Flight prices and hotel rates are subject to change and availability. \n* You can use the provided booking URLs to search for flights and hotels that best suit your budget and travel dates. \n* Consider using a travel website or app to compare prices and find deals.\n* Remember to book attractions tickets in advance, especially for popular shows and activities. \n\nHave a wonderful trip to Las Vegas! \n',
        },
      ],
    },
  ],
});

// const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
// console.log(result.response.text());
